{"version":3,"sources":["services/restaurantService.js","cmps/RestPreview/RestPreview.jsx","cmps/RestList/RestList.jsx","assets/img/res.jpg","cmps/HeroImg/HeroImg.jsx","cmps/AppFooter/AppFooter.jsx","pages/HomePage/HomePage.jsx","store/actions/restaurantActions.js","store/actions/cartActions.js","cmps/Cart/Cart.jsx","services/userService.js","store/actions/userActions.js","cmps/AppHeader/AppHeader.jsx","store/reducers/restaurantReducer.js","cmps/RestFeatures/RestFeatures.jsx","cmps/Msg/Msg.jsx","services/utilService.js","cmps/RestMenu/RestMenu.jsx","pages/RestDetails/RestDetails.jsx","cmps/Scroll/Scroll.jsx","services/orderService.js","store/reducers/userReducer.js","pages/Checkout/Checkout.jsx","assets/img/ba35a8698540a7984ef78f470559aa31.gif","cmps/RedirectPage/RedirectPage.jsx","pages/Signup/Signup.jsx","assets/img/comment.svg","pages/Login/Login.jsx","pages/UserDetails/UserDetails.jsx","App.jsx","reportWebVitals.js","store/reducers/cartReducer.js","store/index.js","index.js"],"names":["BASE_URL","restaurantService","query","getById","a","axios","get","res","data","id","RestPreview","rest","className","name","src","place_img","description","to","_id","RestList","restaurants","map","HeroImg","img","AppFooter","href","class","HomePage","dispatch","useDispatch","useSelector","state","restaurantReducer","useEffect","type","loadCart","products","console","log","setNumOfItems","num","Cart","props","useState","price","setPrice","itemDeleted","setItemDeleted","cartReducer","cart","reduce","acc","curr","closeCart","close","onClick","product","index","dish","interval","setInterval","clearInterval","prods","idx","findIndex","dishId","splice","length","deleteItemFromCart","pathname","totalPrice","BASE_URL_USER","userService","signup","login","logout","getUserByEmail","updatePurchaseHistory","email","users","find","user","sessionStorage","purchase","restaurant","push","moment","format","_changeKey","orders","put","obj","oldName","newName","userId","userDetails","post","_handleLogin","clear","setItem","JSON","stringify","loadUser","AppHeader","showCart","setShowCart","mobileMenu","setMobileMenu","history","useHistory","cartItems","userReducer","window","addEventListener","cartToggle","username","INITIAL_STATE","RestFeatures","place_features","accessible","smoking","outside","airConitioner","specialEvents","preOrderSeats","takeAway","deliveries","Msg","dishes","setDish","utilService","createId","result","characters","charactersLength","i","charAt","Math","floor","random","RestMenu","setDishes","showMsg","setMsg","numOfDishes","counter","forEach","currDish","addToCart","toggleMsg","menu","amount","addDish","removeDish","RestDetails","match","params","location","phone","opening_hours","day","Object","keys","values","withRouter","unlisten","listen","scrollTo","orderService","submitOrder","orderDetails","fullDetails","localLoggedInUser","parse","isLoggedIn","Checkout","useForm","register","handleSubmit","onSubmit","htmlFor","required","ref","placeholder","RedirectPage","loading","Signup","Login","isSigned","setSigned","signed","setOk","userByEmail","UserDetails","puarchase","restName","order","App","path","render","exact","component","excat","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","val","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ed7db001.chunk.js","sourcesContent":["\r\nimport axios from 'axios';\r\n\r\n// const BASE_URL = 'http://localhost:3001/api/restaurants';\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/restaurants'\r\n    : 'http://localhost:3001/api/restaurants'\r\n\r\n\r\n\r\n\r\nexport const restaurantService = {\r\n    query,\r\n    getById\r\n}\r\n\r\n\r\nasync function query(){\r\n    const res = await axios.get(BASE_URL);\r\n    return res.data;\r\n}\r\n\r\n\r\nasync function getById(id){\r\n    const res = await axios.get(`${BASE_URL}/${id}`);\r\n    return res.data;\r\n}","\r\nimport './RestPreview.scss';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport function RestPreview({ rest }) {\r\n    return (\r\n        <div className=\"rest-preview\">\r\n            <li>\r\n                <h2>{rest.name}</h2>\r\n                <img src={rest.place_img}></img>\r\n                <div className=\"order-btn\">\r\n                    <p>{rest.description}</p>\r\n                    <Link to={`/restaurant/${rest._id}`}>\r\n                        <button>Visit</button>\r\n                    </Link>\r\n                </div>\r\n            </li>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","\r\n\r\nimport './RestList.scss';\r\nimport React from 'react';\r\nimport { RestPreview } from './../RestPreview/RestPreview';\r\n\r\n\r\n\r\nexport function RestList({ restaurants }) {\r\n    return (\r\n        <ul className=\"rest-list\">\r\n            {restaurants.map(rest => <RestPreview rest={rest} key={rest._id} />)}\r\n        </ul>\r\n    )\r\n}\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/res.5c20c442.jpg\";","\r\nimport './HeroImg.scss';\r\nimport React from 'react';\r\nimport img from '../../assets/img/res.jpg';\r\n\r\nexport function HeroImg() {\r\n    return (\r\n        <div className=\"hero-img\">\r\n            <h1></h1>\r\n            <h2><span>FooderPlace</span> All the best restaurants in one place.</h2>\r\n            <button className=\"btn-3\"><span>F</span>OOD<span> N</span>OW </button>\r\n            <img src={img}></img>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","\r\n\r\n\r\nimport React from 'react';\r\nimport './AppFooter.scss';\r\n\r\nexport function AppFooter() {\r\n    return (\r\n        <div className=\"app-footer\">\r\n            <div>\r\n                <ul>\r\n                    <li>About Us</li>\r\n                    <li>Restaurants</li>\r\n                    <li>Contact Us</li>\r\n                </ul>\r\n            </div>\r\n            <div>\r\n                <ul>\r\n                    <li>Careers</li>\r\n                    <li>About Developer</li>\r\n                    <li>More Code</li>\r\n                </ul>\r\n            </div>\r\n            <div className=\"social\">\r\n                <ul>\r\n                    <li><a className=\"linkedin\" href=\"https://www.linkedin.com/in/andrey-dolya-250130203/\"><i class=\"fab fa-linkedin-in\"></i>Linkedin</a></li>\r\n                    <li><a className=\"github\" href=\"https://github.com/andreydolyaa\"><i class=\"fab fa-github\"></i>GitHub</a></li>\r\n                    <li><a className=\"facebook\" href=\"https://facebook.com\"><i class=\"fab fa-facebook\"></i>Facebook</a></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","\r\n\r\nimport './HomePage.scss';\r\nimport React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { loadRestaurants } from './../../store/actions/restaurantActions';\r\nimport { RestList } from './../../cmps/RestList/RestList';\r\nimport { HeroImg } from './../../cmps/HeroImg/HeroImg';\r\nimport { AppFooter } from '../../cmps/AppFooter/AppFooter';\r\n\r\n\r\nexport function HomePage() {\r\n\r\n\r\n    const dispatch = useDispatch();\r\n    const restaurants = useSelector(state => state.restaurantReducer.restaurants);\r\n\r\n    useEffect(() => {\r\n        dispatch(loadRestaurants(restaurants));\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div>\r\n            <HeroImg />\r\n            <RestList restaurants={restaurants} />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","\r\nimport { restaurantService } from './../../services/restaurantService';\r\n\r\n\r\n\r\nexport function loadRestaurants() {\r\n    return async dispatch => {\r\n        const restaurants = await restaurantService.query();\r\n        dispatch({ type: 'SET_RESTAURANTS', restaurants });\r\n    }\r\n}\r\n\r\n\r\nexport function loadRestaurant(id) {\r\n    return async dispatch => {\r\n        const restaurant = await restaurantService.getById(id);\r\n        dispatch({ type: 'SET_RESTAURANT', restaurant });\r\n    }\r\n}","\r\nimport { cartService } from './../../services/cartService';\r\n\r\n\r\n\r\nexport function loadCart(products) {\r\n    return dispatch => {\r\n        dispatch({ type: 'SET_CART', products });\r\n        console.log(products, \"cart action\");\r\n    }\r\n}\r\n\r\nexport function setNumOfItems(num) {\r\n    return dispatch => {\r\n        dispatch({ type: 'SET_ITEMS_NUM', num });\r\n    }\r\n}","\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport './Cart.scss';\r\nimport { Link } from 'react-router-dom';\r\nimport { loadCart, setNumOfItems } from '../../store/actions/cartActions';\r\n\r\n\r\nexport function Cart(props) {\r\n    const [prods, setProds] = useState([]);\r\n    const [price, setPrice] = useState(0);\r\n    const [itemDeleted, setItemDeleted] = useState(false);\r\n    const products = useSelector(state => state.cartReducer.cart);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        var res = products.reduce((acc, curr) => acc + curr.price, 0);\r\n        setPrice(res);\r\n    }, [])\r\n\r\n    const closeCart = () => {\r\n        props.close();\r\n    }\r\n\r\n    const deleteItemFromCart = (dish) => {\r\n        setItemDeleted(true);\r\n        var interval;\r\n        interval = setInterval(() => {\r\n            setItemDeleted(false);\r\n            clearInterval(interval);\r\n        }, 1000)\r\n        const prods = [...products];\r\n        const idx = prods.findIndex(product => product.dishId === dish);\r\n        prods.splice(idx, 1);\r\n        var res = prods.reduce((acc, curr) => acc + curr.price, 0);\r\n        setPrice(res);\r\n        dispatch(setNumOfItems(prods.length));\r\n        dispatch(loadCart(prods));\r\n    }\r\n\r\n\r\n    return products && (\r\n        <div className=\"cart\">\r\n            <div className=\"close-cart\">\r\n                <h3>Your order list -</h3>\r\n                {itemDeleted &&\r\n                    <p className=\"item-deleted\">Item Deleted!</p>}\r\n                <i onClick={closeCart} className=\"fas fa-times\"></i>\r\n            </div>\r\n            <ul>\r\n                {\r\n                    products.map((product, index) => {\r\n                        return (\r\n                            <li key={index}>\r\n                                <p>{product.name}</p>\r\n                                <div className=\"price-del\">\r\n                                    <p>${product.price}</p>\r\n                                    <p onClick={() => deleteItemFromCart(product.dishId)}><i class=\"far fa-trash-alt\"></i></p>\r\n                                </div>\r\n                            </li>\r\n                        )\r\n                    })\r\n                }\r\n                {products.length > 0 &&\r\n                    <div className=\"done\">\r\n                        <Link onClick={closeCart} className=\"to-checkout\" to={{\r\n                            pathname: '/checkout',\r\n                            totalPrice: price,\r\n                            props\r\n                        }}>Proceed to checkout</Link>\r\n                        <p>Total: ${price}</p>\r\n                    </div>\r\n                }\r\n                {products.length === 0 &&\r\n                    <div className=\"empty-cart\">\r\n                        <h4>Your cart is empty <i className=\"fas fa-shopping-cart\"></i></h4>\r\n                        <Link onClick={closeCart} className=\"find-res\" to=\"/\">Find your favorite restaurant</Link>\r\n                    </div>\r\n                }\r\n            </ul>\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\n","\r\n\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\n// const BASE_URL = 'http://localhost:3001/api/auth';\r\n\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/auth'\r\n    : 'http://localhost:3001/api/auth'\r\n\r\nconst BASE_URL_USER = process.env.NODE_ENV === 'production'\r\n    ? '/api/user'\r\n    : 'http://localhost:3001/api/user'\r\n\r\nexport const userService = {\r\n    signup,\r\n    login,\r\n    query,\r\n    getById,\r\n    logout,\r\n    getUserByEmail,\r\n    updatePurchaseHistory\r\n}\r\n\r\n\r\n\r\nasync function query() {\r\n    return await axios.get(BASE_URL_USER);\r\n}\r\n\r\nasync function getUserByEmail(email) {\r\n    const users = await query();\r\n    const res = users.data.find(user => user.email === email);\r\n    if (sessionStorage.user === \"\") return null\r\n    else return res;\r\n}\r\n\r\n\r\nasync function updatePurchaseHistory(user, purchase, restaurant, totalPrice) {\r\n    purchase.push(moment().format(\"dddd, MMMM Do YYYY, h:mm:ss a\"));\r\n    purchase.push(totalPrice);\r\n    _changeKey(restaurant, \"name\", \"restName\");\r\n    purchase.push(restaurant)\r\n    user.orders.push(purchase);\r\n    return await axios.put(`${BASE_URL_USER}/${user._id}`, user);\r\n}\r\n\r\n\r\nfunction _changeKey(obj, oldName, newName) {\r\n    obj[newName] = obj[oldName];\r\n    delete obj[oldName];\r\n}\r\n\r\n\r\nasync function getById(userId) {\r\n    return await axios.get(`${BASE_URL_USER}/${userId}`);\r\n}\r\n\r\n\r\nasync function login(userDetails) {\r\n    const user = await axios.post(`${BASE_URL}/login`, userDetails);\r\n    return _handleLogin(user.data);\r\n}\r\n\r\nasync function signup(userDetails) {\r\n    userDetails.orders = [];\r\n    await axios.post(`${BASE_URL}/signup`, userDetails);\r\n    // return _handleLogin(user.data);\r\n}\r\n\r\nasync function logout() {\r\n    await axios.post(`${BASE_URL}/logout`);\r\n    sessionStorage.clear();\r\n}\r\n\r\n\r\nfunction _handleLogin(user) {\r\n    sessionStorage.setItem('user', JSON.stringify(user));\r\n    return user;\r\n}\r\n\r\n\r\nfunction _createUser() {\r\n    return {\r\n        fullName: '',\r\n        email: '',\r\n        password: '',\r\n        orders: []\r\n    }\r\n}\r\n","import { userService } from \"../../services/userService\"\r\n\r\n\r\nexport function loadUser(userId) {\r\n    return async dispatch => {\r\n        console.log('ACTION USRR ID ,', userId);\r\n        const user = await userService.getById(userId);\r\n        console.log('ACTION USER GETBYID', user.data);\r\n        dispatch({ type: 'SET_USER', user: user.data });\r\n    }\r\n}\r\n\r\nexport function setLoggedIn(val) {\r\n    return dispatch => {\r\n        dispatch({ type: 'SET_LOGIN', val })\r\n    }\r\n}\r\n\r\nexport function logoutUser() {\r\n    return dispatch => {\r\n        dispatch({ type: 'LOGOUT' });\r\n    }\r\n}\r\n\r\n","\r\nimport './AppHeader.scss';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Link, NavLink, Redirect, useHistory, useLocation } from 'react-router-dom';\r\nimport { Cart } from '../Cart/Cart';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { userService } from '../../services/userService';\r\nimport { loadUser, setLoggedIn, logoutUser } from './../../store/actions/userActions';\r\n\r\n\r\n\r\n\r\nexport function AppHeader(props) {\r\n    var [showCart, setShowCart] = useState(false);\r\n    var [mobileMenu, setMobileMenu] = useState(false);\r\n    const history = useHistory();\r\n\r\n\r\n    const cartItems = useSelector(state => state.cartReducer.cartItems);\r\n    const user = useSelector(state => state.userReducer.user);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        console.log(props);\r\n        window.addEventListener('scroll', () => setMobileMenu(false));\r\n    }, [])\r\n\r\n    const cartToggle = () => {\r\n        setShowCart(showCart = !showCart);\r\n    }\r\n\r\n    const close = () => {\r\n        setShowCart(false);\r\n    }\r\n\r\n    const logout = () => {\r\n        userService.logout();\r\n        dispatch(logoutUser());\r\n    }\r\n\r\n    const openMobileMenu = () => {\r\n        setMobileMenu(mobileMenu = !mobileMenu);\r\n    }\r\n\r\n    const cartToggleR = () => {\r\n\r\n    }\r\n\r\n    const toMain = () => {\r\n        history.push('/');\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"app-header\">\r\n                <div onClick={toMain} className=\"logo\">\r\n                    <h1>fooder<span>Place</span></h1>\r\n                </div>\r\n                <div className=\"links\">\r\n                    <NavLink to=\"\">About</NavLink>\r\n                    <NavLink to=\"\">Restaurants</NavLink>\r\n                    <NavLink to=\"\">Order</NavLink>\r\n                    <NavLink to=\"\">Explore</NavLink>\r\n                    <NavLink to=\"\">Contact</NavLink>\r\n                </div>\r\n                {!user &&\r\n                    <div className=\"user-icons\">\r\n                        <div className=\"cart-num\">{cartItems}</div>\r\n                        <i onClick={cartToggle} className=\"fas fa-shopping-bag\"></i>\r\n                        <i className=\"fas fa-search\"></i>\r\n                        <Link className=\"sign\" to=\"/login\">Sign In</Link>\r\n                        <p>|</p>\r\n                        <Link className=\"sign\" to=\"/signup\">Register</Link>\r\n                    </div>\r\n                }\r\n                {user && user &&\r\n                    <div className=\"logged-user\">\r\n                        <div className=\"ics\">\r\n                            <div className=\"cart-num\">{cartItems}</div>\r\n                            <i onClick={cartToggle} className=\"fas fa-shopping-bag\"></i>\r\n                        </div>\r\n                        <Link className=\"user-profile\" to=\"/user-details\"><p>Hi, {user.username}<i className=\"fas fa-user-circle\"></i></p></Link>\r\n                        <Link className=\"logout\" to=\"/\"><p onClick={logout}>Logout <i className=\"fas fa-sign-out-alt\"></i></p></Link>\r\n                    </div>\r\n                }\r\n                {showCart && <Cart close={close} />}\r\n                <div className=\"bars-btn\">\r\n                    <button onClick={openMobileMenu}><i className=\"fas fa-bars\"></i></button>\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n\r\n            <div className={mobileMenu ? 'show mobile-nav' : 'hide mobile-nav'}>\r\n                <div className=\"mobile-links\">\r\n                    <NavLink to=\"\">About</NavLink>\r\n                    <NavLink to=\"\">Restaurants</NavLink>\r\n                    <NavLink to=\"\">Order</NavLink>\r\n                    <NavLink to=\"\">Explore</NavLink>\r\n                    <NavLink to=\"\">Contact</NavLink>\r\n                </div>\r\n                <div className=\"mobile-login\">\r\n                    {!user &&\r\n                        <div className=\"user-icons\">\r\n                            <div className=\"cart-num\">{cartItems}</div>\r\n                            <i onClick={cartToggle} className=\"fas fa-shopping-bag\"></i>\r\n                            <Link className=\"sign\" to=\"/login\">Sign In</Link>\r\n                            <p>|</p>\r\n                            <Link className=\"sign\" to=\"/signup\">Register</Link>\r\n                        </div>\r\n                    }\r\n                    {user && user &&\r\n                        <div className=\"logged-user\">\r\n                            <div className=\"ics\">\r\n                                <div className=\"cart-num\">{cartItems}</div>\r\n                                <i onClick={cartToggle} className=\"fas fa-shopping-bag\"></i>\r\n                            </div>\r\n                            <Link className=\"user-profile\" to=\"/user-details\"><p>Hi, {user.username}<i className=\"fas fa-user-circle\"></i></p></Link>\r\n                            <Link className=\"logout\" to=\"/\"><p onClick={logout}>Logout <i className=\"fas fa-sign-out-alt\"></i></p></Link>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n// style={{display: mobileMenu ? 'block' : 'none'}}\r\n// <div className=\"mobile-header\" style={{ display: mobileMenu ? 'flex' : 'none' }} >\r\n//                     <MobileMenu closeMobileMenu={openMobileMenu} />\r\n//             </div>","const INITIAL_STATE = {\r\n    restaurants: [],\r\n    restaurant: null\r\n}\r\n\r\n\r\nexport function restaurantReducer(state = INITIAL_STATE, action) {\r\n    switch (action.type) {\r\n        case 'SET_RESTAURANTS':\r\n            return {\r\n                ...state,\r\n                restaurants: action.restaurants\r\n            }\r\n        case 'SET_RESTAURANT':\r\n            return {\r\n                ...state,\r\n                restaurant: action.restaurant\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","\r\nimport './RestFeatures.scss';\r\nimport React from 'react'\r\n\r\nexport function RestFeatures({ restaurant }) {\r\n    if (!restaurant) return <div></div>;\r\n    return (\r\n        <div className=\"rest-features\">\r\n            {restaurant.place_features.accessible ? <p className={restaurant.place_features.accessible ? 'allowed' : 'notAllowed'}><i className=\"fas fa-wheelchair\"></i> Restaurant is accessible</p> : null}\r\n            {restaurant.place_features.smoking === false ? <p className={restaurant.place_features.smoking === false ? 'notAllowed' : 'allowed'}><i className=\"fas fa-smoking-ban\"></i> Smoking is not allowed</p> : null}\r\n            {restaurant.place_features.outside ? <p className={restaurant.place_features.outside ? 'allowed' : 'notAllowed'}><i className=\"fas fa-tree\"></i> Sitting outside</p> : null}\r\n            {restaurant.place_features.airConitioner ? <p className={restaurant.place_features.airConitioner ? 'allowed' : 'notAllowed'}><i className=\"fas fa-thermometer-three-quarters\"></i> Air conditioning</p> : null}\r\n            {restaurant.place_features.specialEvents ? <p className={restaurant.place_features.specialEvents ? 'allowed' : 'notAllowed'}><i className=\"far fa-calendar-alt\"></i> Special Events</p> : null}\r\n            {restaurant.place_features.preOrderSeats ? <p className={restaurant.place_features.preOrderSeats ? 'allowed' : 'notAllowed'}><i className=\"fas fa-phone\"></i> Preorder table/s is possible</p> : null}\r\n            {restaurant.place_features.takeAway ? <p className={restaurant.place_features.takeAway ? 'allowed' : 'notAllowed'}><i className=\"fas fa-box\"></i> Take away</p> : null}\r\n            {restaurant.place_features.deliveries ? <p className={restaurant.place_features.deliveries ? 'allowed' : 'notAllowed'}><i className=\"fas fa-shipping-fast\"></i> Home deliveries</p> : null}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","\r\nimport './Msg.scss';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport function Msg({ dishes }) {\r\n    const [dish, setDish] = useState('');\r\n\r\n\r\n    useEffect(() => {\r\n        if (dishes.length === 1) {\r\n            setDish(dishes[0].name);\r\n        }\r\n\r\n        if (dishes.length > 1) {\r\n            var res = dishes[dishes.length - 1];\r\n            setDish(res.name);\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"msg\">\r\n            <p>{dish} Added!</p>\r\n        </div>\r\n    )\r\n}\r\n\r\n","\r\n\r\nexport const utilService = {\r\n    createId\r\n}\r\n\r\nfunction createId(length) {\r\n    var result = '';\r\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    var charactersLength = characters.length;\r\n    for (var i = 0; i < length; i++) {\r\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n    }\r\n    return result;\r\n}","\r\nimport './RestMenu.scss';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport { loadCart, setNumOfItems } from '../../store/actions/cartActions';\r\nimport { Msg } from '../Msg/Msg';\r\nimport { utilService } from './../../services/utilService';\r\n\r\n\r\nexport function RestMenu({ restaurant }) {\r\n    const [dishes, setDishes] = useState([]);\r\n    var [showMsg, setMsg] = useState(false);\r\n    const dispatch = useDispatch();\r\n    var interval;\r\n\r\n\r\n    const addDish = (dish) => {\r\n        dishes.push(dish);\r\n        setDishes(dishes)\r\n    }\r\n    const removeDish = (dish) => {\r\n        const idx = dishes.findIndex(currDish => currDish.name === dish.name);\r\n        if (idx !== -1) dishes.splice(idx, 1);\r\n        setDishes(dishes);\r\n    }\r\n\r\n    const numOfDishes = (dish) => {\r\n        var counter = 0;\r\n        dishes.forEach(currDish => currDish.name === dish.name ? counter++ : null);\r\n        return counter;\r\n    }\r\n\r\n    const addToCart = () => {\r\n        dishes.forEach(dish => dish.dishId = utilService.createId(10));\r\n        dispatch(loadCart(dishes));\r\n        dispatch(setNumOfItems(dishes.length));\r\n        toggleMsg();\r\n    }\r\n\r\n    const toggleMsg = () => {\r\n        setMsg(true);\r\n        interval = setInterval(() => {\r\n            setMsg(false);\r\n            clearInterval(interval);\r\n        }, 2000);\r\n    }\r\n\r\n\r\n    if (!restaurant) return <div></div>;\r\n    return (\r\n        <ul className=\"rest-menu\">\r\n            {\r\n                restaurant.menu.map((dish, index) => {\r\n                    return (\r\n                        <li key={index}>\r\n                            <div>\r\n                                <h4>{dish.name}</h4>\r\n                                <img src={dish.img}></img>\r\n                                <p>{dish.description}</p>\r\n                            </div>\r\n                            <div className=\"dish-info\">\r\n                                <p>Dish size - {dish.amount}</p>\r\n                                <p>${dish.price} / Serve</p>\r\n                                <div className=\"dish-num\">\r\n                                    <button className=\"add-btn\" onClick={() => addDish(dish)}>\r\n                                        <i className=\"far fa-plus-square\"></i>\r\n                                    </button>\r\n                                    <p>{numOfDishes(dish)}</p>\r\n                                    <button className=\"add-btn\" onClick={() => removeDish(dish)}>\r\n                                        <i className=\"far fa-minus-square\"></i>\r\n                                    </button>\r\n                                </div>\r\n                                <button onClick={addToCart}>add</button>\r\n                            </div>\r\n                        </li>\r\n                    )\r\n                })\r\n            }\r\n            {showMsg && <Msg dishes={dishes} />}\r\n        </ul>\r\n    )\r\n}\r\n","\r\n\r\n\r\n\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport './RestDetails.scss';\r\nimport { restaurantReducer } from './../../store/reducers/restaurantReducer';\r\nimport { loadRestaurant } from '../../store/actions/restaurantActions';\r\nimport { RestFeatures } from './../../cmps/RestFeatures/RestFeatures';\r\nimport { RestMenu } from '../../cmps/RestMenu/RestMenu';\r\nimport { AppFooter } from '../../cmps/AppFooter/AppFooter';\r\n\r\nexport function RestDetails(props) {\r\n\r\n    const restaurant = useSelector(state => state.restaurantReducer.restaurant);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(loadRestaurant(props.match.params.id));\r\n    }, [restaurant])\r\n\r\n    return (\r\n        <div className=\"rest-details-main\">\r\n            { restaurant &&\r\n                <div className=\"rest-details\">\r\n                    <div className=\"rest-img\">\r\n                        <img src={restaurant.place_img} />\r\n                    </div>\r\n                    <div className=\"rest-desc\">\r\n                        <h1>{restaurant.name}</h1>\r\n                        <h3>{restaurant.description}</h3>\r\n                        <p>Adress: {restaurant.location}</p>\r\n                        <p>Phone: {restaurant.phone}</p>\r\n                        <p>Opening Hours -</p>\r\n                        {\r\n                            restaurant.opening_hours.map(day => {\r\n                                return (\r\n                                    <p key={Object.keys(day)}>{Object.keys(day)}: {Object.values(day)}</p>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div>\r\n            }\r\n\r\n            <RestFeatures restaurant={restaurant} />\r\n            {restaurant &&\r\n                <RestMenu restaurant={restaurant} />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","\r\n\r\nimport { useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction Scroll({ history }) {\r\n  useEffect(() => {\r\n    const unlisten = history.listen(() => {\r\n      window.scrollTo(0, 0);\r\n    });\r\n    return () => {\r\n      unlisten();\r\n    }\r\n  }, []);\r\n\r\n  return (null);\r\n}\r\n\r\nexport default withRouter(Scroll);\r\n\r\n\r\n","\r\n\r\n\r\n\r\nimport axios from 'axios';\r\n// const BASE_URL = 'http://localhost:3001/submitOrder';\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/submitOrder'\r\n    : 'http://localhost:3001/submitOrder'\r\n\r\n\r\nexport const orderService = {\r\n    submitOrder\r\n}\r\n\r\n\r\nasync function submitOrder(userDetails, orderDetails, totalPrice) {\r\n    var fullDetails = {\r\n        userDetails,\r\n        orderDetails,\r\n        totalPrice\r\n    }\r\n    return await axios.post(BASE_URL, fullDetails);\r\n}","\r\n\r\n\r\nvar localLoggedInUser = null;\r\nif (sessionStorage.user) localLoggedInUser = JSON.parse(sessionStorage.user);\r\n\r\nconst INITIAL_STATE = {\r\n    user: localLoggedInUser,\r\n    isLoggedIn: false\r\n}\r\n\r\nexport function userReducer(state = INITIAL_STATE, action) {\r\n    switch (action.type) {\r\n        case 'SET_USER':\r\n            return {\r\n                ...state,\r\n                user: action.user\r\n            }\r\n        case 'SET_LOGIN':\r\n            return {\r\n                ...state,\r\n                isLoggedIn: action.val\r\n            }\r\n        case 'LOGOUT':\r\n            return {\r\n                ...state,\r\n                user: null\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport './Checkout.scss';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useForm } from 'react-hook-form';\r\nimport { orderService } from './../../services/orderService';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { userService } from '../../services/userService';\r\nimport { userReducer } from './../../store/reducers/userReducer';\r\nimport { loadUser } from './../../store/actions/userActions';\r\nimport { AppFooter } from '../../cmps/AppFooter/AppFooter';\r\n\r\nexport function Checkout(props) {\r\n    const { register, handleSubmit } = useForm();\r\n\r\n    const cart = useSelector(state => state.cartReducer.cart);\r\n    const user = useSelector(state => state.userReducer.user);\r\n    const restaurant = useSelector(state => state.restaurantReducer.restaurant);\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    useEffect(() => {\r\n        if(user) dispatch(loadUser(user._id));\r\n    }, [])\r\n\r\n    const onSubmit = async (data) => {\r\n        orderService.submitOrder(data, cart, props.location.totalPrice);\r\n        if (user) {\r\n            await userService.updatePurchaseHistory(user, cart, restaurant,props.location.totalPrice);\r\n        }\r\n        props.history.push('/order-process');\r\n    }\r\n\r\n    return (\r\n        <div>\r\n        <div className=\"checkout\">\r\n            <div className=\"checkout-ul\">\r\n                <h2>Your Order - </h2>\r\n                {\r\n                    cart.map((dish, index) => {\r\n                        return (\r\n                            <div className=\"checkout-list\" key={index}>\r\n                                <img src={dish.img}></img>\r\n                                <p>{dish.name}</p>\r\n                                <p>${dish.price}</p>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n                <h3>Total price: ${props.location.totalPrice}</h3>\r\n            </div>\r\n            <form className=\"user-details\" onSubmit={handleSubmit(onSubmit)}>\r\n                <label htmlFor=\"firstName\">First Name:\r\n                <input name=\"firstName\" type=\"text\" required ref={register} /></label>\r\n                <label htmlFor=\"lastName\">Last Name:\r\n                <input name=\"lastName\" type=\"text\" required ref={register} /></label>\r\n                <label htmlFor=\"adress\">Adress:\r\n                <input name=\"adress\" type=\"text\" required ref={register} /></label>\r\n                <label htmlFor=\"email\">Email:\r\n                <input name=\"email\" type=\"text\" required ref={register} /></label>\r\n                <div className=\"card\">\r\n                    <h3>Payment Details</h3>\r\n                    <label htmlFor=\"card\">Card Number:\r\n                <input name=\"card\" type=\"number\" required placeholder=\"Card Number\" ref={register} /></label>\r\n                    <label htmlFor=\"date\">Exp.Date:\r\n                <input name=\"date\" type=\"number\" required placeholder=\"MM/YY\" ref={register} /></label>\r\n                    <label htmlFor=\"ccv\">CCV:\r\n                <input name=\"ccv\" type=\"number\" required placeholder=\"CCV\" ref={register} /></label>\r\n                </div>\r\n                <button>Submit Order</button>\r\n            </form>\r\n            </div>\r\n            </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n// const [register, setFormData] = useForm({\r\n//         firstName: '',\r\n//         lastName: '',\r\n//         adress: '',\r\n//         email: '',\r\n//         card: null,\r\n//         date: null,\r\n//         ccv: null\r\n//     })","export default __webpack_public_path__ + \"static/media/ba35a8698540a7984ef78f470559aa31.363d2eec.gif\";","\r\n\r\nimport './RedirectPage.scss';\r\nimport React, { useEffect } from 'react';\r\nimport loading from '../../assets/img/ba35a8698540a7984ef78f470559aa31.gif';\r\nimport { useDispatch } from 'react-redux';\r\nimport { loadCart, setNumOfItems } from './../../store/actions/cartActions';\r\n\r\nfunction RedirectPage(props) {\r\n    var interval;\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(loadCart([]));\r\n        dispatch(setNumOfItems(0));\r\n        interval = setInterval(() => {\r\n            props.history.push('/');\r\n        }, 3000)\r\n        return () => {\r\n            clearInterval(interval)\r\n        }\r\n    }, [])\r\n    return (\r\n        <div className=\"loading\">\r\n            <h1>Your order is sent, redirecting...</h1>\r\n            <img src={loading}></img>\r\n            <h2></h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RedirectPage\r\n","\r\n\r\n\r\nimport './Signup.scss';\r\nimport React from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { userService } from './../../services/userService';\r\nimport { loadUser } from '../../store/actions/userActions';\r\nimport { useDispatch } from 'react-redux';\r\n\r\n\r\n\r\n\r\nexport function Signup(props) {\r\n    const { register, handleSubmit } = useForm();\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const onSubmit = async (data) => {\r\n        await userService.signup(data);\r\n        props.history.push('/login');\r\n    }\r\n\r\n    return (\r\n        <div className=\"signup\">\r\n        <div className=\"new-user\"><h2>Register new user</h2></div>\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <label htmlFor=\"fullName\">* Fullname:\r\n            <input name=\"fullName\" type=\"text\" required ref={register} />\r\n                </label>\r\n                <label htmlFor=\"password\">* Password:\r\n            <input name=\"password\" type=\"password\" required ref={register} />\r\n                </label>\r\n                <label htmlFor=\"email\">* Email:\r\n            <input name=\"email\" type=\"text\" required ref={register} />\r\n                </label>\r\n                <button>Register</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/comment.b2980a0c.svg\";","\r\nimport './Login.scss';\r\nimport React, { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { userService } from './../../services/userService';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { loadUser } from './../../store/actions/userActions';\r\nimport loading from '../../assets/img/comment.svg';\r\n\r\nexport function Login(props) {\r\n    const { register, handleSubmit } = useForm();\r\n    const [isSigned, setSigned] = useState(false);\r\n    const [signed, setOk] = useState(false);\r\n    const dispatch = useDispatch();\r\n\r\n    const onSubmit = async (data) => {\r\n        var interval;\r\n        await userService.login(data);\r\n        if (sessionStorage.user !== '\"\"') {\r\n            setOk(true);\r\n            interval = setInterval(async () => {\r\n                setOk(false)\r\n                console.log('SESSION STORAGE ', sessionStorage);\r\n                const userByEmail = await userService.getUserByEmail(data.email);\r\n                dispatch(loadUser(userByEmail._id))\r\n                props.history.push('/');\r\n                clearInterval(interval);\r\n            }, 1500)\r\n        }\r\n        else {\r\n            setSigned(true);\r\n            interval = setInterval(() => {\r\n                setSigned(false)\r\n                clearInterval(interval);\r\n            }, 2000)\r\n            return console.log('wrong pw/un');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"new-user\"><h2>Sign In</h2></div>\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <label htmlFor=\"email\">* Email:\r\n        <input name=\"email\" type=\"text\" required ref={register} />\r\n                </label>\r\n                <label htmlFor=\"password\">* Password:\r\n            <input name=\"password\" type=\"password\" required ref={register} />\r\n                </label>\r\n                <button>Login</button>\r\n            </form>\r\n            {isSigned &&\r\n                <h3 className=\"wrong-pass\">Wrong Password or Email</h3>}\r\n            {signed &&\r\n                <div className=\"gg\">\r\n                    <h3 className=\"good-pass\">Successfully Logged In</h3>\r\n                    <img src={loading}></img>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n// const onSubmit = async (data) => {\r\n//     userService.login(data);\r\n//     const userByEmail = await userService.getUserByEmail(data.email);\r\n//     if (!userByEmail) {\r\n//         console.log('No such user');\r\n//         return console.log('wrong pw/un');;\r\n//     }\r\n//     dispatch(loadUser(userByEmail._id))\r\n//     props.history.push('/');\r\n// }","\r\nimport './UserDetails.scss';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { userReducer } from './../../store/reducers/userReducer';\r\nimport { loadUser } from './../../store/actions/userActions';\r\nimport { AppFooter } from '../../cmps/AppFooter/AppFooter';\r\n\r\nexport function UserDetails(props) {\r\n\r\n    const user = useSelector(state => state.userReducer.user);\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    useEffect(() => {\r\n        console.log(props);\r\n        if (user) dispatch(loadUser(user._id));\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"user-details\">\r\n            <div className=\"welcome-msg\">\r\n                <h1>Hello, {user.username}!</h1>\r\n                <h3>Your Purchase History</h3>\r\n            </div>\r\n            {\r\n                user.orders.map((puarchase, idx) => {\r\n                    return (\r\n                        <div className=\"order-list\" key={idx}>\r\n                            <h4>Purchase Date: {puarchase[puarchase.length - 3]} <span>At: {puarchase[puarchase.length - 1].restName}</span></h4>\r\n                            {puarchase.map((order, idx) => {\r\n                                return order.name && (\r\n                                    <div className=\"order-history\" key={idx}>\r\n                                        <p>{order.name}</p>\r\n                                        <p>${order.price}</p>\r\n                                    </div>\r\n                                )\r\n                            })}\r\n                            <p className=\"total-history\">Total: ${puarchase[puarchase.length - 2]}</p>\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n// return (\r\n//     <div className=\"user-details\">\r\n//         <h1>Hello, {user.username}</h1>\r\n//         <h3>Your Purchases - </h3>\r\n//         {\r\n//             user.orders.map(puarchase => {\r\n//                 return (\r\n//                     puarchase.map(order => {\r\n//                         return (\r\n//                             <div className=\"order-history\">\r\n//                             <p>{order.name}</p>\r\n//                             </div>\r\n//                         )\r\n//                     })\r\n//                 )\r\n//             })\r\n//         }\r\n//     </div>\r\n// )\r\n// }\r\n\r\n","\n\nimport { HashRouter as Router, Redirect, Route, Switch } from 'react-router-dom';\nimport { HomePage } from './pages/HomePage/HomePage';\nimport { AppHeader } from './cmps/AppHeader/AppHeader';\nimport { RestDetails } from './pages/RestDetails/RestDetails';\nimport Scroll from './cmps/Scroll/Scroll';\nimport { Checkout } from './pages/Checkout/Checkout';\nimport RedirectPage from './cmps/RedirectPage/RedirectPage';\nimport { Signup } from './pages/Signup/Signup';\nimport { Login } from './pages/Login/Login';\nimport { UserDetails } from './pages/UserDetails/UserDetails';\nimport { AppFooter } from './cmps/AppFooter/AppFooter';\nimport { useEffect } from 'react';\n\n\n\n\nexport function App(props) {\n\n    return (\n        <div className=\"App\">\n            <Router>\n                <AppHeader/>\n                <Scroll />\n                <Switch>\n                    <Route path=\"/restaurant/:id\" render={props => <RestDetails {...props} />}></Route>\n                    <Route exact path=\"/order-process\" component={RedirectPage}></Route>\n                    <Route exact path=\"/user-details\" component={UserDetails}></Route>\n                    <Route exact path=\"/checkout\" component={Checkout}></Route>\n                    <Route excat path=\"/signup\" component={Signup}></Route>\n                    <Route excat path=\"/login\" component={Login}></Route>\n                    <Route path=\"/\" component={HomePage}></Route>\n                </Switch>\n                <AppFooter />\n            </Router>\n        </div>\n    );\n}\n\n\n\n// <Route path=\"/cart\" component={Cart}></Route>\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","\r\n\r\nconst INITIAL_STATE = {\r\n    cart: [],\r\n    cartItems: 0\r\n}\r\n\r\nexport function cartReducer(state = INITIAL_STATE, action) {\r\n    switch (action.type) {\r\n        case 'SET_CART':\r\n            return {\r\n                ...state,\r\n                cart: action.products\r\n            }\r\n        case 'SET_ITEMS_NUM':\r\n            return {\r\n                ...state,\r\n                cartItems: action.num\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { createStore, applyMiddleware, compose, combineReducers } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { restaurantReducer } from './reducers/restaurantReducer';\r\nimport { cartReducer } from './reducers/cartReducer';\r\nimport { userReducer } from './reducers/userReducer';\r\n\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    restaurantReducer,\r\n    cartReducer,\r\n    userReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App.jsx';\nimport reportWebVitals from './reportWebVitals';\nimport './global.scss';\nimport { Provider } from 'react-redux';\nimport { store } from './store/index';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}